/* 注册一个highlightjs插件 */
Vue.use(hljs.vuePlugin);
var doc = new Vue({
    el: '#doc',
    data: {
        // 接口ID
        api_id: this.api_id,
        active: "doc",
        code: "PHP",
        php_get: '管理员还没有写噢~',
        php_post: '管理员还没有写噢~',
        // 请求参数
        param: [],
        // 返回参数
        returnParam: [],
        // 状态码
        stateCode: [],
        error_system: [
            {
                "code": "400",
                "describe": "请求错误！"
            }, {
                "code": "403",
                "describe": "请求被服务器拒绝！"
            }, {
                "code": "405",
                "describe": "客户端请求的方法被禁止！"
            }, {
                "code": "408",
                "describe": "请求时间过长！"
            }, {
                "code": "500",
                "describe": "服务器内部出现错误！"
            }, {
                "code": "501",
                "describe": "服务器不支持请求的功能，无法完成请求！"
            }, {
                "code": "503",
                "describe": "系统维护中！"
            }
        ],
        examples: {
            php: { get: "", post: "" },
            qr: { get: "", post: "" },
            qrpro: { get: "", post: "" }
        }//代码示例
    },
    created() {
        fetch('/data/api/index/?type=get_apiData', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body://post内容
                "apiId=" + this.api_id,
        })
            .then(response => response.json())
            .then(json => {
                if (json.code == 0) {
                    this.param = json.data.param
                    this.returnParam = json.data.returnParam
                    this.stateCode = json.data.stateCode
                    this.examples = json.data.examples
                }
                document.getElementById("loading").style.display = "none";
            });
    },
    watch: {

    },
    methods: {

    },
    mounted: function () {

    }
});
var clipboard = new ClipboardJS('.api_copy');
clipboard.on('success', function (e) {
    doc.$message({
        message: '复制成功！',
        type: 'success',//类型
        duration: '800',//显示时间
        center: true//文字居中
    });
    e.clearSelection();
});
clipboard.on('error', function (e) {
    doc.$message({
        message: '复制失败！',
        type: 'error',
        duration: '800',//显示时间
        center: true//文字居中
    });
});